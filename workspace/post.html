<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 - 영감 인사이드</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/post.css">
</head>
<body>
    <div class="wrapper">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-container">
                <div class="logo">
                    <a href="index.html">
                        <h1>영감 인사이드</h1>
                        <span class="subtitle">Inspiration Inside</span>
                    </a>
                </div>
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="갤러리, 게시글 검색">
                    <button onclick="performSearch()">검색</button>
                </div>
                <div class="user-menu">
                    <button onclick="toggleTheme()" class="theme-toggle" title="다크 테마 전환">
                        <span id="themeIcon">🌙</span>
                    </button>
                    <div id="loginSection" class="login-section">
                        <a href="auth.html" class="login-btn">로그인</a>
                        <a href="auth.html?mode=signup" class="signup-btn">회원가입</a>
                    </div>
                    <div id="userSection" class="user-section" style="display: none;">
                        <span id="userNickname"></span>님
                        <a href="mypage.html">마이페이지</a>
                        <a href="admin.html" id="adminLink" style="display: none;">관리자</a>
                        <button onclick="logout()">로그아웃</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="main">
            <div class="post-container">
                <!-- 게시글 네비게이션 -->
                <div class="post-nav">
                    <a href="javascript:history.back()" class="back-btn">← 목록으로</a>
                    <div class="post-actions">
                        <button onclick="toggleBookmark()" class="bookmark-btn">북마크</button>
                        <button onclick="sharePost()" class="share-btn">공유</button>
                        <button onclick="reportPost()" class="report-btn">신고</button>
                    </div>
                </div>

                <!-- 게시글 헤더 -->
                <div class="post-header">
                    <div class="post-meta">
                        <span class="gallery-name" id="galleryName">갤러리</span>
                        <span class="post-number" id="postNumber">No. 123456</span>
                    </div>
                    <h1 class="post-title" id="postTitle">게시글 제목</h1>
                    <div class="post-info">
                        <div class="author-info">
                            <span class="author" id="postAuthor">작성자</span>
                        </div>
                        <div class="post-stats">
                            <span class="views">조회 <strong id="postViews">0</strong></span>
                            <span class="likes">추천 <strong id="postLikes">0</strong></span>
                            <span class="comments">댓글 <strong id="commentCount">0</strong></span>
                        </div>
                    </div>
                </div>

                <!-- 게시글 내용 -->
                <div class="post-content">
                    <div id="postContent" class="content">
                        <!-- 게시글 내용 로드 -->
                    </div>
                    
                    <!-- 추천/비추천 버튼 -->
                    <div class="vote-section">
                        <button onclick="votePost('like')" class="vote-btn like-btn">
                            👍 추천 <span id="likeCount">0</span>
                        </button>
                        <button onclick="votePost('dislike')" class="vote-btn dislike-btn">
                            👎 비추천 <span id="dislikeCount">0</span>
                        </button>
                    </div>

                    <!-- 게시글 관리 버튼 (작성자만) -->
                    <div id="postManagement" class="post-management" style="display: none;">
                        <button onclick="editPost()" class="edit-btn">수정</button>
                        <button onclick="deletePost()" class="delete-btn">삭제</button>
                    </div>
                </div>

                <!-- 이전/다음 게시글 -->
                <div class="post-navigation">
                    <div class="nav-item prev-post">
                        <span class="nav-label">이전글</span>
                        <a href="#" id="prevPostLink">이전 게시글 제목</a>
                    </div>
                    <div class="nav-item next-post">
                        <span class="nav-label">다음글</span>
                        <a href="#" id="nextPostLink">다음 게시글 제목</a>
                    </div>
                </div>

                <!-- 댓글 섹션 -->
                <div class="comments-section">
                    <h3>댓글 <span id="commentCountDisplay">0</span></h3>
                    
                    <!-- 댓글 작성 -->
                    <div class="comment-form">
                        <div id="loginPrompt" class="login-prompt">
                            <p>댓글을 작성하려면 <a href="auth.html">로그인</a>해주세요.</p>
                        </div>
                        <div id="commentWriteForm" class="comment-write" style="display: none;">
                            <textarea id="commentContent" placeholder="댓글을 입력하세요..." rows="3"></textarea>
                            <div class="comment-options">
                                <label>
                                    <input type="checkbox" id="anonymousComment"> 익명
                                </label>
                                <button onclick="submitComment()" class="submit-btn">댓글 작성</button>
                            </div>
                        </div>
                    </div>

                    <!-- 댓글 목록 -->
                    <div id="commentsList" class="comments-list">
                        <!-- 댓글 동적 로드 -->
                    </div>
                </div>
            </div>
        </main>

        <!-- 푸터 -->
        <footer class="footer">
            <div class="footer-container">
                <p>&copy; 2025 영감 인사이드. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script src="js/common.js"></script>
    <script src="js/post.js"></script>
</body>
</html>
